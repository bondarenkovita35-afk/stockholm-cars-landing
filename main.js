// СЛОВАРЬ ПЕРЕВОДОВ
const translations = {
  ru: {
    "brand.name": "NordicBil Stockholm",
    "brand.sub": "Премиальные и электрические авто",
    "nav.home": "Главная",
    "nav.cars": "Авто",
    "nav.why": "Почему мы",
    "nav.reviews": "Отзывы",
    "nav.contact": "Контакты",
    "hero.kicker": "Премиальные авто • Стокгольм",
    "hero.title": "Машина, которая говорит за тебя ещё до того, как ты выйдешь.",
    "hero.text":
      "Мы подбираем авто под твой ритм жизни и уровень. Без давления и навязанного выбора — только честные рекомендации и машины, на которые приятно садиться каждое утро.",
    "hero.cta_test": "Забронировать тест-драйв",
    "hero.cta_cars": "Посмотреть авто",
    "hero.tag_trust": "10+ лет доверия в Стокгольме",
    "hero.tag_time": "Оформление от 60 минут",
    "hero.tag_match": "Подбор под твой образ жизни",
    "hero.visual":
      "Металлический блеск, неоновый город и авто, которое выделяется в любом потоке.",
    "cars.title": "NordicBil: там, где машины выбирают людей",
    "cars.text":
      "Мы специально не публикуем цены на сайте. Сначала слушаем, как ты живёшь и как машина должна работать на тебя — и только потом предлагаем варианты.",
    "cars.city_title": "Городской хищник",
    "cars.city_text":
      "Компактные, но мощные авто, которые легко паркуются в центре и чувствуют себя уверенно в плотном потоке.",
    "cars.city_b1": "Идеален для центра Стокгольма",
    "cars.city_b2": "Помощь с выбором комплектации",
    "cars.city_b3": "Лёгкий переход на электродвижение",
    "cars.city_cta": "Подобрать городской сет",
    "cars.electric_title": "Электрическое будущее",
    "cars.electric_text":
      "Электромобили, подобранные под твои реальные маршруты: зарядка, пробег и расходы просчитаны вместе с тобой.",
    "cars.electric_b1": "Реальные расчёты экономии",
    "cars.electric_b2": "Помощь с установкой зарядки",
    "cars.electric_b3": "Экологично и статусно",
    "cars.electric_cta": "Подобрать электрокласс",
    "cars.family_title": "Business & Family",
    "cars.family_text":
      "Авто, где комфорт семьи и твой профессиональный образ идут вместе: безопасно, просторно, без лишней показухи.",
    "cars.family_b1": "Максимальная безопасность",
    "cars.family_b2": "Комфорт на дальние поездки",
    "cars.family_b3": "Несколько сценариев покупки",
    "cars.family_cta": "Подобрать семейный формат",
    "why.title":
      "Почему клиенты возвращаются в NordicBil, даже когда не нужно менять авто",
    "why.text":
      "Мы строим не разовую сделку, а долгие отношения. Наша цель — чтобы через год ты сказал: «Это было лучшее решение на тот момент».",
    "why.no_pressure_title": "Честный разговор без агрессивных продаж",
    "why.no_pressure_text":
      "Спокойно обсуждаем бюджет, страхи и сомнения. Если сейчас не время покупать — так и говорим.",
    "why.transparent_title": "Прозрачная история каждой машины",
    "why.transparent_text":
      "Диагностика, сервис, владельцы — ты видишь те же данные, что и мы.",
    "why.match_title": "Подбор под характер, а не только под кошелёк",
    "why.match_text":
      "Режим дня, семья, путешествия — под это подбираем класс, двигатель и кузов.",
    "why.after_title": "Сопровождение после покупки",
    "why.after_text":
      "Вопросы по обслуживанию, страховке, резине — у тебя есть живой контакт в NordicBil, который знает твою машину.",
    "reviews.title": "Что говорят наши клиенты",
    "reviews.r1_text":
      "«Я пришёл за просто машиной, а ушёл с ощущением, что меня услышали. Через год купил второе авто — даже не сравнивал с другими салонами».",
    "reviews.r1_name": "Михаил, предприниматель",
    "reviews.r2_text":
      "«Нужна была безопасная семейная машина, но не огромный автобус. Нам спокойно объяснили каждую деталь — теперь мы знаем, за что платим».",
    "reviews.r2_name": "Анна и Эмиль, семья с двумя детьми",
    "contact.title": "Давай подберём машину под твою жизнь",
    "contact.text":
      "Напиши, как ты живёшь и что важно в авто. Мы ответим в течение одного рабочего дня и предложим несколько сценариев без давления и обязательств.",
    "contact.name_label": "Имя",
    "contact.email_label": "E-mail",
    "contact.message_label": "Опиши свой запрос",
    "contact.submit": "Отправить запрос",
    "contact.note":
      "Мы не рассылаем спам и не передаём контакты третьим лицам.",
    "footer.sub":
      "Цифровые лендинги с характером. Дизайн и разработка под ключ."
  },

  sv: {
    "brand.name": "NordicBil Stockholm",
    "brand.sub": "Premium- och elbilar",
    "nav.home": "Start",
    "nav.cars": "Bilar",
    "nav.why": "Varför vi",
    "nav.reviews": "Omdömen",
    "nav.contact": "Kontakt",
    "hero.kicker": "Premiumbilar • Stockholm",
    "hero.title":
      "En bil som pratar för dig redan innan du kliver ur den.",
    "hero.text":
      "Vi väljer bil efter ditt liv, inte bara din plånbok. Utan press – bara ärliga råd och bilar som känns rätt varje morgon.",
    "hero.cta_test": "Boka provkörning",
    "hero.cta_cars": "Se bilar",
    "hero.tag_trust": "10+ år i Stockholm",
    "hero.tag_time": "Affär från ca 60 minuter",
    "hero.tag_match": "Matchad efter din livsstil",
    "hero.visual":
      "Metallicglans, neonstad och en bil som sticker ut i varje trafikflöde.",
    "cars.title": "NordicBil: där bilar väljer människor",
    "cars.text":
      "Vi visar inga priser här. Först lyssnar vi på hur du lever och vad du behöver – sedan föreslår vi alternativ.",
    "cars.city_title": "Stadsjägaren",
    "cars.city_text":
      "Kompakta men kraftfulla bilar som är enkla att parkera och säkra i tät trafik.",
    "cars.city_b1": "Perfekt för centrala Stockholm",
    "cars.city_b2": "Hjälp med rätt utrustning",
    "cars.city_b3": "Smidig väg in i elvärlden",
    "cars.city_cta": "Hitta din stadsbil",
    "cars.electric_title": "Elektrisk framtid",
    "cars.electric_text":
      "Elbilar anpassade efter dina faktiska sträckor. Vi räknar räckvidd, laddning och kostnad tillsammans.",
    "cars.electric_b1": "Tydlig besparing",
    "cars.electric_b2": "Stöd med laddbox",
    "cars.electric_b3": "Grönt och stilrent",
    "cars.electric_cta": "Välj elsegment",
    "cars.family_title": "Business & Family",
    "cars.family_text":
      "Plats för familjen och rätt image på jobbet – utan att kompromissa med säkerheten.",
    "cars.family_b1": "Maximal säkerhet",
    "cars.family_b2": "Bekväm på långresor",
    "cars.family_b3": "Flera köpscenarier",
    "cars.family_cta": "Hitta familjelösning",
    "why.title":
      "Varför kunderna kommer tillbaka till NordicBil – även när de inte behöver byta bil",
    "why.text":
      "Vi bygger relationer, inte bara affärer. Vårt mål: att du om ett år säger “det här var rätt beslut då”.",
    "why.no_pressure_title": "Ärlig dialog utan säljpåtryck",
    "why.no_pressure_text":
      "Vi pratar lugnt om budget, oro och tvekan. Är det fel tid att köpa – då säger vi det.",
    "why.transparent_title": "Transparent bilhistorik",
    "why.transparent_text":
      "Service, diagnos, tidigare ägare – du ser samma fakta som vi.",
    "why.match_title": "Matchning efter liv, inte bara pris",
    "why.match_text":
      "Vardagsliv, resor, familj – allt detta styr klass, motor och kaross.",
    "why.after_title": "Stöd efter köpet",
    "why.after_text":
      "Service, försäkring, däck – du har en kontakt på NordicBil som kan din bil.",
    "reviews.title": "Vad våra kunder säger",
    "reviews.r1_text":
      "“Jag kom för en ‘vanlig bil’ och gick hem med känslan att någon verkligen lyssnade. Köpte min andra bil här utan att ens jämföra.”",
    "reviews.r1_name": "Mikael, egenföretagare",
    "reviews.r2_text":
      "“Vi ville ha en säker familjebil utan att känna oss som en buss. Allt förklarades lugnt och tydligt.”",
    "reviews.r2_name": "Anna & Emil, tvåbarnsfamilj",
    "contact.title": "Låt oss hitta bilen för ditt liv",
    "contact.text":
      "Berätta kort hur du lever och vad som är viktigt för dig. Vi återkommer inom en arbetsdag med några lugna, genomtänkta förslag.",
    "contact.name_label": "Namn",
    "contact.email_label": "E-post",
    "contact.message_label": "Beskriv ditt behov",
    "contact.submit": "Skicka förfrågan",
    "contact.note":
      "Vi skickar inget spam och lämnar aldrig dina uppgifter vidare.",
    "footer.sub":
      "Digitala landningssidor med personlighet. Design & utveckling."
  },

  en: {
    "brand.name": "NordicBil Stockholm",
    "brand.sub": "Performance & Electric Cars",
    "nav.home": "Home",
    "nav.cars": "Cars",
    "nav.why": "Why us",
    "nav.reviews": "Reviews",
    "nav.contact": "Contact",
    "hero.kicker": "Premium cars • Stockholm",
    "hero.title":
      "A car that speaks for you before you even step out.",
    "hero.text":
      "We match cars to your life, not just your budget. No pressure sales – only honest advice and cars that feel right every morning.",
    "hero.cta_test": "Book a test drive",
    "hero.cta_cars": "View cars",
    "hero.tag_trust": "10+ years trusted in Stockholm",
    "hero.tag_time": "Deals from around 60 minutes",
    "hero.tag_match": "Matched to your lifestyle",
    "hero.visual":
      "Metallic shine, neon city and a car that stands out in any traffic.",
    "cars.title": "NordicBil: where cars choose people",
    "cars.text":
      "We don’t list prices online. First we listen to how you live and drive – then we suggest options.",
    "cars.city_title": "Urban Predator",
    "cars.city_text":
      "Compact yet powerful cars that are easy to park and safe in dense city traffic.",
    "cars.city_b1": "Perfect for central Stockholm",
    "cars.city_b2": "Help choosing the right spec",
    "cars.city_b3": "Smooth step into electric driving",
    "cars.city_cta": "Find your city set",
    "cars.electric_title": "Electric Future",
    "cars.electric_text":
      "EVs tuned to your real routes. We calculate range, charging and cost together.",
    "cars.electric_b1": "Clear savings calculations",
    "cars.electric_b2": "Support with home charger",
    "cars.electric_b3": "Green and premium",
    "cars.electric_cta": "Choose EV segment",
    "cars.family_title": "Business & Family",
    "cars.family_text":
      "Cars that carry your family and your professional image at the same time.",
    "cars.family_b1": "Maximum safety",
    "cars.family_b2": "Comfortable on long trips",
    "cars.family_b3": "Multiple purchase scenarios",
    "cars.family_cta": "Find family solution",
    "why.title":
      "Why clients return to NordicBil even when they don’t need a new car",
    "why.text":
      "We build relationships, not just transactions. Our goal is that in a year you say: “That was the right choice then”.",
    "why.no_pressure_title": "Honest talk, zero hard sell",
    "why.no_pressure_text":
      "We calmly discuss budget, doubts and fears. If it’s not the right time to buy, we say so.",
    "why.transparent_title": "Transparent history for every car",
    "why.transparent_text":
      "Diagnostics, service, ownership – you see the same data as we do.",
    "why.match_title": "Matched to character, not only wallet",
    "why.match_text":
      "Daily routine, trips, family – that’s what defines class, engine and body style.",
    "why.after_title": "Support after purchase",
    "why.after_text":
      "Service, insurance, tyres – you have a real contact at NordicBil who knows your car.",
    "reviews.title": "What our clients say",
    "reviews.r1_text":
      "“I came for just ‘a car’ and left feeling truly heard. A year later I bought my second car here without even comparing.”",
    "reviews.r1_name": "Michael, entrepreneur",
    "reviews.r2_text":
      "“We needed a safe family car without feeling like a bus. Everything was explained clearly and calmly.”",
    "reviews.r2_name": "Anna & Emil, two kids",
    "contact.title": "Let’s find the car for your life",
    "contact.text":
      "Tell us briefly how you live and what matters in a car. We’ll reply within one business day with a few calm, well-thought options.",
    "contact.name_label": "Name",
    "contact.email_label": "E-mail",
    "contact.message_label": "Describe your request",
    "contact.submit": "Send request",
    "contact.note":
      "We don’t spam and never share your data with third parties.",
    "footer.sub":
      "Digital landing pages with character. Design & development."
  }
};

const langOrder = ["ru", "sv", "en"];
let currentLang = "ru";

function applyLanguage(lang) {
  const dict = translations[lang];
  if (!dict) return;

  document.documentElement.lang = lang;

  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) {
      el.textContent = dict[key];
    }
  });

  const langLabel = document.getElementById("langCurrent");
  if (langLabel) {
    langLabel.textContent = lang.toUpperCase();
  }

  localStorage.setItem("nordicbil-lang", lang);
}

document.addEventListener("DOMContentLoaded", () => {
  // восстановить язык
  const saved = localStorage.getItem("nordicbil-lang");
  if (saved && translations[saved]) {
    currentLang = saved;
  }
  applyLanguage(currentLang);

  // переключатель языка
  const toggle = document.getElementById("langToggle");
  if (toggle) {
    toggle.addEventListener("click", () => {
      const idx = langOrder.indexOf(currentLang);
      const next = langOrder[(idx + 1) % langOrder.length];
      currentLang = next;
      applyLanguage(currentLang);
    });
  }

  // анимация появления блоков при скролле
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.18 }
  );

  document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));
});
